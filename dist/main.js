(()=>{"use strict";const e=[];let t,n=0;const a=function(e){const t=document.querySelector(".aside_project"),n=t.querySelectorAll("input");t.addEventListener("change",(e=>{if("checkbox"===e.target.type){for(let e=0;e<n.length;e++)!0===n[e].checked&&(n[e].checked=!1);!0===e.target.checked?e.target.checked=!1:e.target.checked=!0}}))},c=function(){return document.querySelector(".aside_project").addEventListener("click",(e=>{const n=e.target;n.addEventListener("change",(()=>{"checkbox"===n.type&&n.checked&&(t=n.id)}))})),t},o=(JSON.parse(localStorage.getItem("Projects")),function(e){return`\n      <ul>\n                ${t}\n                <li data-set=${e.task_title}>${e.task_title}</li>\n                <li>${e.task_date}</li>\n                <li>${e.priority}</li>\n                <textarea name="" id="" cols="15" rows="8" disabled>${e.task_content}</textarea>\n              </ul>\n              <button class="lni lni-trash-can task_delete"></button>\n            </div>\n  `}),s=function(e){const t=[...JSON.parse(localStorage.getItem("cards"))||[],e];localStorage.setItem("cards",JSON.stringify(t))},r=function(e){const t=document.querySelector(".aside_todo_items"),n=document.createElement("li");n.dataset.set=`${e.task_title}`,n.innerHTML=`\n   <i class="fa-solid fa-clipboard-list">  ${e.task_title} </i>\n\n  `,t.appendChild(n)},i=function(){const n=document.querySelector(".central_container"),a=document.querySelector(".aside_todo_items"),c=document.querySelector(".task_create"),i=document.querySelector(".central_task_container");!function(){const e=document.querySelector(".task_card_container"),n=document.querySelector(".aside_todo_items"),a=localStorage.getItem("cards");a&&JSON.parse(a).forEach((a=>{const c=document.createElement("div");c.classList.add("task_card"),c.dataset.set=`${a.task_title}`,c.id=t,c.innerHTML=o(a),console.log(e,n,c),e.appendChild(c)}))}(),c.addEventListener("click",(n=>{const a=i.querySelectorAll("input");n.preventDefault(),0!==e.length?null!=t?(function(){const e=document.querySelector(".task_card_container"),n=document.createElement("div"),{data:a}=function(){const e=document.querySelector(".central_task_container"),t=[...new FormData(e)],n=Object.fromEntries(t);return console.log(n,t),{data:n,dataArr:t}}();""!==a.task_title&&""!==a.task_date?(n.classList.add("task_card"),n.dataset.set=`${a.task_title}`,n.id=t,n.innerHTML=o(a),e.appendChild(n),r(a),s(a)):alert("please fill all the required informations !!!!")}(),a.forEach((e=>e.value="")),l(),d()):alert("Please make sure to select a project"):alert("please create a project before ")})),n.addEventListener("click",(e=>{a.closest(".fa-solid.fa-clipboard-list");const t=e.target.closest("div").dataset.set,n=(e.target.closest("div"),a.querySelector(`li[data-set="${t}"]`));if(e.target.classList.contains("task_delete")&&(""!==e.target.dataset.set||t===n.dataset.set)){const t=confirm("Are you sure you want to delete this task");if(t&&(localStorage.removeItem("cards"),e.target.closest("div").remove(),n.remove()),!t)return}}))},l=function(){document.querySelector(".central_container");const e=document.querySelector(".task_card_container");document.querySelector(".aside_project").addEventListener("click",(n=>{const a=n.target;a.addEventListener("change",(()=>{if("checkbox"!==a.type)return;const n=Array.from(e.children);n.forEach((e=>{console.log(n),e.id!==t||void 0===e.id?e.classList.add("hidden"):e.classList.remove("hidden")}))}))}))},d=function(){document.querySelector(".aside_panel").addEventListener("click",(e=>{const t=e.target.closest("i");console.log(t),t.classList.toggle("done")}))};window.addEventListener("load",(()=>{!function(){const e=document.querySelector(".container"),t=document.createElement("aside");t.classList.add("aside_panel"),t.setAttribute("id","aside"),console.log(t),t.innerHTML='\n<i class="fa-solid fa-house"> Task list</i>\n<div class="aside_first_li">\n  <ul class="aside_todo_items">\n    \n  </ul>\n  <div class="aside_first_li completed"></div>\n</div>\n<div class="aside_project">\n  <h3 class="aside_project_title">\n    Projects <i class="fa-solid fa-plus"></i>\n  </h3>\n  \n</div>\n',e.insertAdjacentElement("afterbegin",t)}(),function(){const e=document.querySelector(".container"),t=document.createElement("main");t.classList.add("central_container"),t.innerHTML='<form class="central_task_container">\n  <label for="title"></label>\n  <input\n    type="text"\n    class="task_title"\n    id="title"\n    name="task_title"\n    placeholder="Task Title"\n    required \n    autocomplete="off"\n  />\n  <label for="date"></label>\n  <input type="date" name="task_date" id="date" required autocomplete="off"/>\n  <label for="task_priority"></label>\n  <select name="priority" id="task_priority">\n    <option value="low">Low</option>\n    <option value="normal">Normal</option>\n    <option value="important">Important</option>\n    <option value="critical">critical</option>\n  </select>\n  <textarea\n    name="task_content"\n    id="task_content"\n    cols="30"\n    rows="10"\n    placeholder="Task description"\n  ></textarea>\n  <div class="btn_container">\n    <button class="task_create">\n      <i class="lni lni-play"> Create</i>\n    </button>\n\x3c!-- <button class="task_delete">\n      <i class="lni lni-eraser"> Delete</i>\n    </button> --\x3e\n\x3c!-- </div>\n</form>\n  \n  ',e.insertAdjacentElement("beforeend",t)}(),function(){const e=document.querySelector(".central_container"),t=document.createElement("div");t.classList.add("task_card_container"),e.insertAdjacentElement("beforeend",t)}(),i(),function(){const o=document.querySelector(".aside_panel");o.querySelector(".fa-plus").addEventListener("click",(()=>{n++,function(){const o=document.querySelector(".aside_project"),s=prompt("Please introduce the name of the project "),r=document.createElement("div");r.classList.add("aside_second_li"),r.dataset.count=`${n}`,r.id=t,r.innerHTML=`\n  <input class="radioCheck" type="checkbox" id=${s} value="${s}">\n  <label for="${s}>\n  <i class="lni lni-folder" > ${s} </i></label>\n        <button class="lni lni-trash-can"></button>`,""!==s?(e.push(s),o.insertAdjacentElement("beforeend",r),a(),c(),localStorage.setItem("Projects",JSON.stringify(e))):alert("Project name can't be empty")}()})),o.addEventListener("click",(t=>{!function(t){t.target.classList.contains("lni")&&t.target.addEventListener("click",(()=>{if(""!==t.target.closest("div").innerHTML){if(!confirm("Are you sure you want to delete your project"))return;{const n=t.target.closest("div").textContent;t.target.closest("div").remove(),e.splice(e.indexOf(n)-1,1)}return e}}))}(t)}))}()}))})();